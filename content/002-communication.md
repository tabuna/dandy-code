# Код как средство коммуникации

Помните, что вы делали вчера? А позавчера? Четыре дня назад? Месяц назад?
Вряд ли вы сможете дословно вспомнить, что мелькало на 69‑й странице вашей любимой книги или какие точные реплики звучали в той серии сериала.
 И это нормально — наш мозг сохраняет только то, что считает действительно важным, а всё остальное отбрасывает, чтобы не перегружаться.

Точно так же обстоят дела и с кодом.
Когда вы возвращаетесь к проекту, чтобы починить баг или добавить новую функциональность,
 вы сначала читаете код заново: знакомые приёмы встречаются, но в целом вы анализируете каждую строчку.

Мы часто говорим, что код — это средство общения с компьютером: набор инструкций «положи из X в Y» и т.п.
Но после компиляции в байт‑код и многочисленных оптимизаций от вашего исходника остаётся лишь упрощённый набор команд.
Машине безразличны стиль, комментарии и даже длина имён — она выполнит любую версию кода.

А вот людям всё это куда важнее, поэтому правильнее сказать, что код мы пишем не только для компьютера (хотя это тоже важно), но и для коллег, для себя и для будущего «я».
История знает немало исследований: например, ещё в 1989 году в IBM подсчитали, что больше половины рабочего времени разработчиков уходит не на новое кодирование, а на чтение и понимание чужого кода. Поэтому чем четче выражена мысль в коде, тем быстрее команда поймет, как он работает, тем проще сопровождать и развивать проект.

Давайте сменим установку: думать не только о том, как код поймёт машина, но и о том, как его воспримут коллеги и наше собственное «я» в будущем.

### Код — это тоже текст

Наша работа — умственный труд, а результатом становятся тексты: код, документация, сообщения в коммитах и комментарии.

Представьте, что вы получили такое письмо с откликом на вакансию:

> Здраствуйте
> Я ПРОГРАМИСТ с БОЛЬЩИМ апытом делал сайты и приложения для интирнета. Пишу код на джаве и пхп ещо умею с питон и руби. Работал в разны места делал всьо што гаварили.
> Харашо разбераюсь в компютерах и серварах, могу делать апдейт и чинить баги.
> Если вазьмёте меня, не пажелеете, я осен стараюс.

Код — это ваше резюме, ваша репутация и ваш вклад в команду.
Если он небрежен, нечитаем, полон опечаток в именах переменных, непоследователен по стилю и неясен по логике, это производит такое же впечатление, как письмо выше.
Даже если за кодом стоит отличный инженер, команда не станет ему доверять. ~~Каждый просмотр потребует двойной проверки, каждый метод — расшифровки, а исправление — героических усилий.~~

Но даже если письмо будет оформлено без ошибок, оно так же произведет не лучшее впечатление:

> Многоуважаемый господин!
> Сим доношу, что имею значительный опыт в делах программных: создавал сайты и приложения для сети, пишу на Java и PHP, равно как и с Python и Ruby знаком не понаслышке.
> Служил в разных местах, поручения исполнял добросовестно. В компьютерах и серверах разбираюсь, умею обновлять системы и исправлять неполадки.
> Аще примете — не пожалеете. Труд люблю, дело своё знаю.

### Ожидания и реальность

При этом менеджеры и продукт-оунеры оценивают по совершенно другим критериям как затраченное время и стоимость труда.
Я ни разу не слышал, чтобы разработчиков штрафовали или увольняли за работающий, но плохо написанный код.
Порой даже некомпетентные руководители могут подталкивать к этому, говоря: «Закостылись», «Делай хоть как-то», «Потом перепишем».
А со временем сами начинаю смеяться над своими решениями от безысходности.

Единственный кому особенно нужен ясный и понятный код это высокомотивированному работнику, такому как вы.
Никто, кроме таких людей, как вы, не будет действительно заботиться о коде.
Тимлиду проще настроить линтеры, ввести формальные код-ревью и регламенты, по которым без особого вникания будут ставить друг другу галочки.
Но только высокомотивированный разработчик задаётся вопросом: удобно ли это читать, сопровождать, менять?
Поэтому очень важно отстаивать своё мнение — ведь завтра именно вам придётся разбираться в том, что вы написали сегодня.

### Нельзя писать идеально, но можно стараться писать лучше

Не существует самого красивого человека на свете для всех, лучшей книги, лучшего сериала, так же не существует и идеального кода.
Даже в Open Source-проектах, за которыми следят тысячи разработчиков, всегда найдутся спорные решения или места, где можно было бы сделать лучше.

Но цель не в том, чтобы достичь идеала. Цель — в намерении. В желании писать так, чтобы код был понятен, аккуратен, приятен в работе.

Когда рядом есть люди, которые пишут с вниманием, с уважением к будущим читателям — это вдохновляет.
Хочется и самому придумать название переменной чуть удачнее, структурировать код так, чтобы он читалcя легко.
Такая культура — заразительна, и она создаёт особую атмосферу в команде.

Если вы возьмёте на вооружение практики, описанные в этой книге, — вы уже на голову выше большинства.
Потому что стараетесь. Потому что старание видно в коде. И это не выдумка — это то, что действительно ощущается, тем кто читает и поддерживает проект.

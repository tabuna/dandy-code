# Второй пилот — не капитан

В начале книги уже было отмечено: код читают гораздо чаще, чем пишут.
Сегодня у нас появился второй пилот — только теперь он не сидит рядом на соседнем кресле, а встроен прямо в редактор.
ChatGPT, Copilot и другие LLM-инструменты. Быстрые, дружелюбные, полезные.
Но не обманывайтесь: это всё ещё второй пилот, не капитан

Обычно код не меняют просто так.
Чаще всего причина — баг или новая фича и
задача для инструмента формулируется примерно так:

> «Выступи в роли X. Иногда этот код выбрасывает исключение XXX. Исправь, пожалуйста».

Но именно в таких формулировках и кроется проблема.

Если передать ему метод на 800 строк, полных противоречий, логических дыр и нелепых зависимостей — не надейся,
что он сделает из этого конфетку.
Он будет **продолжать**. Механически, без разбора.
Потому что его задача — **продолжить твой стиль**, а не **исправить твой хаос**.
Старое правило `GIGO — *Garbage In, Garbage Out*.` никуда не делось.


Рассмотрим простой пример: функция, которая записывает email в базу и отправляет приветственное письмо.
Попросим второго пилота добавить логирование:

```diff
// >_ Добавь логирование

function store()
{
    $email = $_POST['email'];

    $conn = new mysqli('localhost', 'user', 'pass', 'db');
    $conn->query("INSERT INTO users (email) VALUES ('$email')");

    mail($email, 'Hi', 'Welcome!');

+    file_put_contents('log.txt', "User $email\n", FILE_APPEND);

    echo 'Done';
}
```

Он чертовски хорошо выполнил свою задачу, но проблема не в его работе, а в том, что переданный код
выглядит очень плохо, потому что в нем:

- Нет возврата осмысленного результата.
- SQL-инъекция (строка вставляется напрямую).
- Нет обработки ошибок.

Если ты передал мусор — метод, который и швец, и жнец, и на дуде игрец — то не удивляйся, что он туда ещё
и трубача припишет. Он **не откажет**, он скажет: «Да, командир!» — и продолжит работу.


На сайтах вроде Stack Overflow вопросы задают и решают вручную, люди. Нередко там встречаются ответы, помеченные как 
"решение", но при этом заминусованные — в комментариях поясняют: да, работает, но приведёт к плачевным последствиям в
долгосрочной перспективе. 

"Второй пилот" — помощник другого типа. Он не будет указывать на архитектурные проблемы или спорные решения, пока вы
сами его об этом не попросите. Его задача — помогать вам как можно быстрее двигаться к результату, решать
бизнес-проблемы здесь и сейчас. Но и большинство разработчиков настроены точно так же: задача должна быть закрыта, сроки — вчера, и мало кто будет
тратить время, чтобы просить помощника подумать над более выразительными именами переменных, архитектурой или стилем.

Поэтому пилот продолжает ехать по плохой дороге.
А это самое страшное — мы просто раздуваем MESS.
И не просто так, а ещё и автоматизируем его рост.

Вот почему важно начать с хорошей базы: чистого кода, понятной архитектуры, простых методов и имён.

Второй пилот не заменит твоё мышление — он просто помогает писать.

А хороший код начинается с тебя, а не с него!